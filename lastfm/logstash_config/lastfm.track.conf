input {
  file {
    path => "/workspace/elastic-lifelog/lastfm/data/lastfm_track_export.csv"
    start_position => "beginning"
    sincedb_path => "/dev/null"
  }
}

filter {
  csv {
    separator => ","
    columns => ["Rank", "Track", "Artist", "PlayCount"]
  }
  mutate {
    convert => {
      "Rank" => "integer"
      "PlayCount" => "integer"
    }
  }
}

output {
  elasticsearch {
    hosts => ["localhost:9200"]
    index => "lastfm-track-log"
  }
}
